allprojects {
  ext.kotlinVersion = '1.2.21'
  ext.shadowVersion = '2.0.2'

  ext.asmVersion = '6.0'
  ext.gripVersion = '0.6.0-beta'
  ext.logbackVersion = '1.2.3'

  ext.junitVersion = '4.12'

  ext.androidToolsVersion = '3.0.1'
  ext.supportVersion = '27.0.2'

  ext.runnerVersion = '1.0.1'
  ext.espressoVersion = '3.0.1'

  buildscript {
    repositories {
      mavenLocal()
      google()
      jcenter()
    }
  }

  repositories {
    mavenLocal()
    google()
    jcenter()
  }

  def properties = new Properties()
  properties.load(new FileInputStream(new File(rootDir, "version.properties")))
  def major = properties['version.major'] as int
  def minor = properties['version.minor'] as int
  def patch = properties['version.patch'] as int
  def suffix = properties['version.suffix']?.toString()?.trim() ?: ""
  def snapshot = properties['version.snapshot'].toBoolean()
  version = "$major.$minor.$patch" + (suffix.isAllWhitespace() ? '' : "-$suffix") + (snapshot ? '-SNAPSHOT' : '')
  group = 'io.michaelrocks'

  ext.dryRun = properties['version.dryRun'].toBoolean()
  ext.publish = properties['version.publish'].toBoolean()
}
